<?xml version="1.0" encoding="UTF-8"?>
<glue:Domains xmlns:glue="http://schemas.ogf.org/glue/2008/04/spec/2/0/v37" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.ogf.org/glue/2008/04/spec/2/0/v37 ../xsd/GLUE2.xsd">
    <AdminDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
        <ID>[URI]</ID>
        <Name>NIIF-TOP</Name> <!-- string -->
	<Description>This is the main NIIF admin unit</Description>        
	<WWW>http://www.niif.hu</WWW>
	<OtherInfo>Top domain of the Hungarian Clustergrid</OtherInfo>
	<Distributed>false</Distributed>
        <Owner>NIIF</Owner> <!-- string -->
	<Owner>HGCC</Owner> <!-- string -->
        <Location CreationTime="2008-04-21T10:05:12Z" Validity="500">
            <LocalID>id1</LocalID>
            <Name>Budapest, Hungary</Name>
	    <Address>Victor Hugo 11</Address>
	    <Place>Budapest</Place>
	    <Country>Hungary</Country>
	    <PostCode>HU-1200</PostCode>
	    <Latitude>47.51</Latitude>
	    <Longitude>19.05</Longitude>
        </Location>
        <Contact CreationTime="2008-04-21T10:05:12Z" Validity="500">
            <LocalID>id2</LocalID>
            <URL>mailto:support@niif.hu</URL>
            <Type>usersupport</Type>
	    <OtherInfo>Only for NIIF users</OtherInfo>
        </Contact>
        <Contact CreationTime="2008-04-21T10:05:12Z" Validity="500">
            <LocalID>id3</LocalID>
            <URL>http:www.niif.hu/contacts</URL>
            <Type>general</Type>
	    <OtherInfo>E-mail is preffered</OtherInfo>
        </Contact>

        <Services>
            <ComputingService CreationTime="2008-04-21T10:05:12Z" Validity="500"  BaseType="Service">
                <ID>[URI]</ID>
		<Name>NIIF CE</Name>
		<Capability>executionmanagement.jobexecution</Capability>
		<Type>org.nordugrid.arex</Type>
		<QualityLevel>pre-production</QualityLevel>
		<StatusPage>http://arex.niif.hu/status</StatusPage>
		<Complexity>endpoint=1,share=2,resource=1</Complexity>
		<Otherinfo>warning: frequent reconfiguration</Otherinfo>                                             
                <!-- Computing service specific attributes -->
                <TotalJobs>36</TotalJobs>
                <RunningJobs>3</RunningJobs> 
                <WaitingJobs>6</WaitingJobs>
                <StagingJobs>7</StagingJobs>
		<SuspendedJobs>4</SuspendedJobs>
                <PreLRMSWaitingJobs>16</preLRMSWaitingJobs>
		<Location>
		    <LocalID>id4</LocalID>
		    <Name>...</Name>
		</Location>
		<Contact>
		    <LocalID>...</LocalID>		  
		    <URL>...</URL>		    
		    <Type>...</Type>
		</Contact>   
		             
		<ComputingEndpoint CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Endpoint">
		    <ID>[URI]</ID>
		    <Name>AREX</Name>
		    <URL>https://129.12.231:60000/arex</URL>				    
		    <Technology>webservice</Technology> 				    
		    <InterfaceName>OGSA-BES</InterfaceName> <!-- what about extensions? -->
		    <InterfaceVersion>1.0</InterfaceVersion>
		    <WSDL>https://129.12.231:60000/arex/?wsdl</WSDL>
		    <SupportedProfile>WS-I 1.0</SupportedProfile> <!-- wrong type, it should be URI--> 
		    <SupportedProfile>HPC-BP </SupportedProfile> <!-- wrong type, it should be URI-->
		    <Semantics> http://www.nordugrid.org/documents/arex.pdf </Semantics>
		    <Implementor>NorduGrid</Implementor>
		    <ImplementationName>ARC1</ImplementationName>
		    <ImplementationVersion>0.9</ImplementationVersion>
		    <QualityLevel>testing</QualityLevel>
		    <HealthState>ok</HealthState>
		    <HealthStateInfo>normal operation</HealthStateInfo>
		    <ServingState>draining</ServingState> 				    
		    <StartTime>2008-04-12T09:47:53+01:00</StartTime>
		    <IssuerCA>/O=Grid/O=NorduGrid/CN=NorduGrid Certification Authority</IssuerCA>
		    <DowntimeAnnounce>2008-03-12T09:59:56+01:00</DowntimeAnnounce>
		    <DowntimeStart>2008-04-29T09:57:56+01:00</DowntimeStart>
		    <DowntimeEnd>2008-04-30T09:59:56+01:00</DowntimeEnd>
		    <DowntimeInfo>Opsys update</DowntimeInfo> 	    
		    <!-- Computing endpoint specific attributes -->
		    <Staging>staginginout</Staging>
		    <AccessPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy">
	  		<LocalID>id5</LocalID>
	  		<Scheme>basic</Scheme>
	  		<Rule>VO:CMS</Rule>
	  		<Rule>VO:ATLAS</Rule>
			<TrustedCA>CA DN1</TrustedCA> <!-- requires the DN of the trusted CA-->
			<TrustedCA>CA DN2</TrustedCA>
			<TrustedCA>CA DN3</TrustedCA>	
  		    </AccessPolicy>
                    <AccessPolicy>
                        <ID>id6</ID>
                        <Scheme>ARC</Scheme>
                        <Rule>an ARC1 policy expression</Rule>                        
                        <TrustedCA>CA DN1</TrustedCA> <!-- requires the DN of the trusted CA-->
			<TrustedCA>CA DN2</TrustedCA>
			<TrustedCA>CA DN3</TrustedCA>
                    </AccessPolicy>
		    <Associations>
		        <ComputingShareLocalID>id7</ComputingShareLocalID>
			<ComputingShareLocalID>id9</ComputingShareLocalID>
			<ComputingActivityID>...</ComputingActivityID> <!--related activities can be listed here-->
		    </Associations>
		</ComputingEndpoint>
		
		<ComputingShares>										    
	            <ComputingShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">	    
			<LocalID>id7</LocalID>
			<Name>Atlas-short</Name>
			<Description>a share set up for short Atlas jobs</Description>
			<!-- Computing share specific attributes -->
			<MappingQueue>pbs-short</MappingQueue>  						        		   
			<MaxWallTime>12000</MaxWallTime>  <!-- do not attribute meaning to the numbers below-->
			<MinWallTime>11</MinWallTime>
			<DefaultWallTime>9000</DefaultWallTime>
			<MaxCPUTime>43200</MaxCPUTime>
			<MinCPUTime>32</MinCPUTime>
			<DefaultCPUTime>11</DefaultCPUTime>
			<MaxTotalJobs>500</MaxTotalJobs>
			<MaxRunningJobs>50</MaxRunningJobs>
			<MaxWaitingJobs>200</MaxWaitingJobs>
			<MaxPreLRMSWaitingJobs>400</MaxPreLRMSWaitingJobs>
			<MaxUserRunningJobs>1</MaxUserRunningJobs>
			<MaxSlotsPerJob>4</MaxSlotsPerJob>
			<MaxStateInStreams>3</MaxStateInStreams>
			<MaxStageOutStreams>2</MaxStageOutStreams>
			<SchedulingPolicy>fairshare</SchedulingPolicy>
			<MaxMemory>1</MaxMemory>
			<MaxDiskSpace>1</MaxDiskSpace>
			<DefaultStorageService>https://storage.niif.hu/default</DefaultStorageService>
			<Preemption>true</Preemption>
			<ServingState>production</ServingState>
			<TotalJobs>40</TotalJobs>
			<RunningJobs>30</RunningJobs>
			<LocalRunningJobs>0</LocalRunningJobs>
			<WaitingJobs>1</WaitingJobs>
			<LocalWaitingJobs>1</LocalWaitingJobs>
			<StagingJobs>1</StagingJobs>
			<SuspendedJobs>12</SuspendedJobs>
			<PreLRMSWaitingJobs>1</PreLRMSWaitingJobs>
			<EstimatedAverageWaitingTime>1</EstimatedAverageWaitingTime>
			<EstimatedWorstWaitingTime>1</EstimatedWorstWaitingTime>
			<FreeSlots>14</FreeSlots>
			<UsedSlots>7</UsedSlots>
			<RequestedSlots>378</RequestedSlots>
			<ReservationPolicy>none</ReservationPolicy>
			<Tag>HEPPO</Tag>
			<Tag>MIT12</Tag>			
			<MappingPolicy>
			    <LocalID>id8</LocalID>
			    <Scheme>basic</Scheme>
			    <Rule>VO:ATLAS</Rule>
			</MappingPolicy>
			<Associations>
			    <ComputingEndpointID>..</ComputingEndpointID>
			    <ExecutionEnvironmentLocalID>..</ComputingEndpointID>
			    <ComputingActivityID>..</ComputingEndpointID>
			</Associations>			
		    </ComputingShare>		    
	            <ComputingShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">	    
			<LocalID>id9</LocalID>
			<Name>Atlas-LONG</Name>
			<Description>a share set up for long Atlas jobs</Description>
			<!-- Computing share specific attributes -->
			<MappingQueue>pbs-long</MappingQueue>							        		   
			<MaxWallTime>12000</MaxWallTime>  <!-- do not attribute meaning to the numbers below-->
			<MinWallTime>11</MinWallTime>
			<DefaultWallTime>9000</DefaultWallTime>
			<MaxCPUTime>43200</MaxCPUTime>
			<MinCPUTime>32</MinCPUTime>
			<DefaultCPUTime>11</DefaultCPUTime>
			<MaxTotalJobs>500</MaxTotalJobs>
			<MaxRunningJobs>50</MaxRunningJobs>
			<MaxWaitingJobs>200</MaxWaitingJobs>
			<MaxPreLRMSWaitingJobs>400</MaxPreLRMSWaitingJobs>
			<MaxUserRunningJobs>1</MaxUserRunningJobs>
			<MaxSlotsPerJob>4</MaxSlotsPerJob>
			<MaxStateInStreams>3</MaxStateInStreams>
			<MaxStageOutStreams>2</MaxStageOutStreams>
			<SchedulingPolicy>fairshare</SchedulingPolicy>
			<MaxMemory>1</MaxMemory>
			<MaxDiskSpace>1</MaxDiskSpace>
			<DefaultStorageService>https://storage.niif.hu/default</DefaultStorageService>
			<Preemption>true</Preemption>
			<ServingState>production</ServingState>
			<TotalJobs>40</TotalJobs>
			<RunningJobs>30</RunningJobs>
			<LocalRunningJobs>0</LocalRunningJobs>
			<WaitingJobs>1</WaitingJobs>
			<LocalWaitingJobs>1</LocalWaitingJobs>
			<StagingJobs>1</StagingJobs>
			<SuspendedJobs>12</SuspendedJobs>
			<PreLRMSWaitingJobs>1</PreLRMSWaitingJobs>
			<EstimatedAverageWaitingTime>1</EstimatedAverageWaitingTime>
			<EstimatedWorstWaitingTime>1</EstimatedWorstWaitingTime>
			<FreeSlots>14</FreeSlots>
			<UsedSlots>7</UsedSlots>
			<RequestedSlots>378</RequestedSlots>
			<ReservationPolicy>none</ReservationPolicy>
			<Tag>TT1</Tag>
			<Tag>HH12</Tag> 			
			<MappingPolicy>
			    <LocalID>id10</LocalID>
			    <Scheme>basic</Scheme>
			    <Rule>VO:ATLAS</Rule>
			</MappingPolicy>
			<Associations>
			    <ComputingEndpointID>..</ComputingEndpointID>
			    <ExecutionEnvironmentLocalID>..</ComputingEndpointID>
			    <ComputingActivityID>..</ComputingEndpointID>
			</Associations>				
		    </ComputingShare>
		</ComputingShares>										    
		    
                <ComputingResource CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Resource">
                    <ID>[URI]</ID>
                    <Name>Cluster A</Name>
                    <!-- Comuting Resource specific attributes -->
                    <LRMSType>Condor</LRMSType>
                    <LRMSVersion>6.6</LRMSVersion>
		    <LRMSOtherInfo>Basic Condor setup</LRMSOtherInfo>
		    <LRMSReservation>true</LRMSReservation>
		    <LRMSBulkSubmission>false</LRMSBulkSubmission>
		    <TotalSlots>200</TotalSlots>
		    <SlotsUsedByLocalJobs>34</SlotsUsedByLocalJobs>
		    <SlotsUsedByGridJobs>15</SlotsUsedByGridJobs>
		    <TotalPhysicalCPUs>100</TotalPhysicalCPUs>
		    <TotalLogicalCPUs>200</TotalLogicalCPUs>
		    <TmpDir>gridtemp</TmpDir>
		    <ScratchDir>gridscratch</ScratchDir>
		    <DataDir>griddata</DataDir>
		    <Homogeneity>true</Homogeneity>
		    <NetworkInfo>gigabitethernet</NetworkInfo>
		    <LogicalCPUDistribution>1:100,2:24,4:56</LogicalCPUDistribution>
		    <GridAreaTotal>2564</GridAreaTotal>
		    <GridAreaFree>1564</GridAreaFree>
		    <GridAreaLifeTime>20000</GridAreaLifeTime>
		    <CacheTotal>568000</CacheTotal>
		    <CacheFree>368000</CacheFree>
		    <Benchmark>
		        <LocalID><LocalID>
			<Type>APPBench1</Type>
			<Value>23.6</Value>
		    </Benchmark>
		    <Benchmark>
		        <LocalID><LocalID>
			<Type>SPECINT2000</Type>
			<Value>399</Value>
		    </Benchmark>		    	
		    <ApplicationEnvironments>
		        <ApplicationEnvironment>
			    <LocalID>..</LocalID> 
			    <Name>/HEP/ATLAS</Name>
			    <Version>12.7</Version>
			    <State>Static</State>
			    <LifeTime>299999</LifeTime>  <!-- check how to set infinite-->
			    <License>GPL</License>
			    <Description>Atlas Toolkit</Description>
			    <ParallelType>none</ParallelType>
			    <MaxSlots>12</MaxSlots>
			    <MaxJobs>40</MaxJobs>
			    <MaxUserSeats>7</MaxUserSeats>
			    <FreeSlots>5</FreeSlots>
			    <FreeJobs>4</FreeJobs>
			    <FreeUserSeats>2</FreeUserSeats>
			    <ApplicationHandle>
			        <LocalID>..</LocalID>
				<Type>module</Type>
				<Value>ATLAS</Value>
			    </ApplicationHandle>
			    <Associations> <!-- check how to use wildcards for all the executionenvironments-->
			        <ExecutionEnvironmentLocalID>..</ExecutionEnvironmentLocalID>
				<ExecutionEnvironmentLocalID>..</ExecutionEnvironmentLocalID>
			    </Associations>
			</ApplicationEnvironment>		    
		        <ApplicationEnvironment>
			    <LocalID>..</LocalID> 
			    <Name>/BIO/GENSTAR</Name>
			    <Version>0.99</Version>
			    <State>DEPLOYED</State>
			    <LifeTime>800</LifeTime> 
			    <License>Propriatery</License>
			    <Description>Sequencing Toolkit</Description>
			    <ParallelType>mpi</ParallelType>
			    <MaxSlots>12</MaxSlots>
			    <MaxJobs>40</MaxJobs>
			    <MaxUserSeats>7</MaxUserSeats>
			    <FreeSlots>5</FreeSlots>
			    <FreeJobs>4</FreeJobs>
			    <FreeUserSeats>2</FreeUserSeats>			   
			    <ApplicationHandle>
			        <LocalID>..</LocalID>
				<Type>path</Type>
				<Value>PATH-To-Binaries</Value>
			    </ApplicationHandle>			    
			    <Associations>
			        <ExecutionEnvironmentLocalID>..</ExecutionEnvironmentLocalID>
				<ExecutionEnvironmentLocalID>..</ExecutionEnvironmentLocalID>
			    </Associations>			    
			</ApplicationEnvironment>										
		    </ApplicationEnvironments>		    
                    <ExecutionEnvironment> <!--there is only one, it is a homogeneous cluster-->
			<LocalID>..</LocalID> 
			<PlatformType>amd64</PlatformType>
			<VirtualMachine>false</VirtualMachine>
			<TotalInstances>24</TotalInstances>
			<UsedInstances>21</UsedInstances>
			<UnavailableInstances>2</UnavailableInstances>
			<PhysicalCPUs>2</PhysicalCPUs>
			<LogicalCPUs>4</LogicalCPUs>
			<CPUMultiplicity>1</CPUMultiplicity> <!-- this attribute needs clarification-->
			<CPUVendor>AMD</CPUVendor>String 0..1 Name of the CPU vendor
			<CPUModel>Athlon</CPUModel>String 0..1 CPU model as defined by the vendor
			<CPUVersion>12.7</CPUVersion>
			<CPUClockSpeed>2000</CPUClockSpeed>
			<CPUTimeScalingFactor>1</CPUTimeScalingFactor>
			<WallTimeScalingFactor>1</WallTimeScalingFactor>
			<MainMemorySize>1024</MainMemorySize>
			<VirtualMemorySize>2048</VirtualMemorySize>
			<OSFamily>linux</OSFamily>
			<OSName>ubuntu</OSName>
			<OSVersion>4</OSVersion>
			<ConnectivityIn>true</ConnectivityIn> 
			<ConnectivityOut>true</ConnectivityOut>
			<NetworkInfo>gigabitethernet</NetworkInfo> 
		        <Associations>
		    	    <ComputingShareLocalID>..</ComputingShareLocalID>
			    <ComputingShareLocalID>..</ComputingShareLocalID>
			    <ApplicationEnvironmentLocalID>..</ApplicationEnvironmentLocalID>
			    <ApplicationEnvironmentLocalID>..</ApplicationEnvironmentLocalID>
			    <BenchmarkLocalID>..</BenchmarkLocalID> <!-- Check relation of Benchmark and ExecEnv!!! -->
			    <BenchmarkLocalID>..</BenchmarkLocalID>
			    <ComputingActivityID>..</ComputingActivityID>			    
		       </Associations>	                          
                    </ExecutionEnvironment> 
                </ComputingResource>

		<ComputingActivities> 						
		    <ComputingActivity CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Activity">					    
                	<ID>[URI]</ID> 														    
                	<Type>Computing</Type>							    
                	<!-- Computing Activity specific attributes --> 
			<LRMSID>pbs012</LRMSID>
			<Name>Myjob1</Name>
			<State>Running</State> <!-- the state model is not yet fixed -->
			<RestartState>Stagein</RestartState>
			<ExitCode>-12</ExitCode>
			<LRMSExitCode>0<LRMSExitCode>
			<Error>Downloader failed</Error> <!-- multivalued!-->
			<Error>input file is not available</Error>
			<LRMSWaitingPosition>0</LRMSWaitingPosition>
			<UserDomain>ATLAS/Prod</UserDomain>
			<Owner>CONFIDENTIAL</Owner>
			<LocalOwner>gridu2</LocalOwner>
			<RequestedWallTime>6000</RequestedWallTime>
			<RequestedCPUTime>5000</RequestedCPUTime>
			<RequestedApplicationEnvironment>/BIO/GENSTAR</RequestedApplicationEnvironment> <!-- what about version??-->
			<RequestedCPUs>12</RequestedCPUs>
			<StdIn>datain.txt</StdIn>
			<StdOut>output2</StdOut>
			<StdErr>errfile</StdErr>
			<LogDir>gridlog</LogDir>
			<ExecutionNode>n1</ExecutionNode> <!-- multivalued-->
			<ExecutionNode>n12</ExecutionNode>
			<QueueName>atlas-long</QueueName>
			<UsedWallTime>340</UsedWallTime>
			<UsedCPUTime>1200</UsedCPUTime>
			<UsedMainMemory>120</UsedMainMemory>
			<SubmissionTime>2008-03-12T10:12:05Z</SubmissionTime>
			<LRMSSubmissionTime>2008-03-12T10:12:05Z</LRMSSubmissionTime>
			<StartTime>2008-03-12T10:12:05Z</StartTime>
			<LRMSEndTime>2008-03-12T10:12:05Z</LRMSEndTime>
			<EndTime>2008-03-12T10:12:05Z</EndTime>
			<GridAreaEraseTime>2008-03-12T10:12:05Z</GridAreaEraseTime>
			<ProxyExpirationTime>2008-03-12T10:12:05Z</ProxyExpirationTime>
			<SubmissionHost>desk01.niif.hu</SubmissionHost>
			<SubmissionClientName>ARC Broker</SubmissionClientName>
			<OtherMessages>Completed in PBS</OtherMessages>	
			<OtherMessages>Pending in Grid manager</OtherMessages>
                    	<Associations> <!-- missing from the xsd!! -->
		    	   <ComputingShareLocalID>..</ComputingShareLocalID>
		    	   <ComputingEndpointID>..</ComputingEndpointID>
		    	   <ExecutionEnvironmentLocalID>..</ExecutionEnvironmentLocalID>
		    	</Associations>
		    </ComputingActivity>
                    <ComputingActivity CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Activity">					    
                	<ID>[URI]</ID> 														    
                	<Type>Computing</Type>							                    	
			<State>Running</State> <!-- the state model is not yet fixed -->
			<Owner>CONFIDENTIAL</Owner>           										    
                    </ComputingActivity>
                    <ComputingActivity CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Activity">					    
                	<ID>[URI]</ID> 														    
                	<Type>Computing</Type>							                    	
			<State>Running</State> <!-- the state model is not yet fixed -->
			<Owner>CONFIDENTIAL</Owner>           										    
                    </ComputingActivity>		    
                </ComputingActivites>								                    
		
                <Associations>
		  <ServiceID>...</ServiceID> <!-- related services can be listed here. What about StorageServiceID?-->
                </Associations>		
            </ComputingService>
	    
	    <StorageService CreationTime="2008-04-21T10:05:12Z" Validity="500"  BaseType="Service">
	      <!-- once the structure of the storage representation matures it'll be filled-->
	    </StorageService>
	    <Service> <!-- question: do we need the basetype this case as well?-->
	       <!--general service will come here-->
	    </Service>
	    <Service>
	       <!--another general service example will come here-->
	    </Service>
        </Services>
	
    </AdminDomain>
    
    <UserDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
    	<ID>[URI]</ID>
	<Name>ATLAS VO</Name>
	<Description>HEP ATLAS USER GROUP</Description>
	<WWW>http://www.cern.ch/ATLAS-VO</WWW>
	<Otherinfo>AUP document is available on VO webpage</Otherinfo>
	<Level>0</Level>
	<ManagerEndpoint>[URI]</ManagerEndpoint>
    </UserDomain>
</glue:Domains>


<!-- This example presents a complete glue2 document describing user and admin domains with several services. 
It intends to demonstrate the full capabilities of glue2, most of the glue2 xmls will be much simplier.
The example is based upon the glue2 draft version 37.
TODO:
- add more complex computing services (inhomogeneous cluster, desktop cluster built from VM machines, etc..)
- add the storage part
- add couple of ordinary services 
- indicate mandatory attributes
-->
