\section{Examples of \ref{asecurity}}
\subsection{Creating policy}
(Example \ref{policyex})
\label{cpolicyex}
\begin{verbatim}
from arcom.security import AuthPolicy
# create policy object
p = AuthPolicy()
# set policy for Alice and Bob
# Alice is allowed to read and add entries (addEntry)
# Bob is only allowed to read
AlicePol = ('Alice','+read +addEntry')
BobPol = ('Bob','+read')
p.set_policy([AlicePol,BobPol])
# see Policy document
print p.get_policy('ARCAuth')
\end{verbatim}

\subsection{Decision making}
(Example \ref{decisionex})
\label{cdecisionex}
\begin{verbatim}
dsa = DummySecAttr('Alice')
# set 'thisown' to False to avoid problems
dsa.thisown = False

# export XML in ARCAuth format
ex = dsa.Export()

from arcom.security import AuthPolicy
# create policy object
p = AuthPolicy()
# set policy for Alice
# Alice is allowed to read and add entries (addEntry)
AlicePol = ('Alice','+read +addEntry')
p.set_policy([AlicePol])

from arcom.security import make_decision

# get policy XML
px = p.get_policy()
rx = ex.GetXML()

decision = make_decision(px, rx)

# Possible results:
# arc.DECISION_PERMIT -- 0
# arc.DECISION_DENY -- 1
# arc.DECISION_INDETERMINATE -- 2
# arc.DECISION_NOT_APPLICABLE -- 3

decision
\end{verbatim}

\subsection{SSL config example}
(Example \ref{sslconfex})
\label{csslconfex}
\begin{verbatim}
import arc
import arcom
from arcom.security import parse_ssl_config

xml_str = file('/etc/arc/ssl_config_example.xml').read()
configNode = arc.XMLNode(xml_str)

serviceNode = configNode.Get('Chain').Get('Service')

print parse_ssl_config(serviceNode)
\end{verbatim}

