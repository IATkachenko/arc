\chapter{Outlook}
% 
% * Future work
% ** API and WebService-Interface for Janitor
% ** Glue2 specification for RTE states
% 

\section{Representation of dynamic RTEs in the information model}
Dynamic RTEs require an extended representation in the
information model.  The Application Software description should be able
to distinguish installed RTEs from installable RTEs, potentially offer
insights on the state that an dRTE is in. This work is planned
to be carried out as part of the Glue-2.0 effort of OGF\footnote{OGF
GLUE: https://forge.gridforum.org/sf/projects/glue-wg}.

\section{Integration with Workflow Management}

Future development of ARC aims at integrating grid computing with
workflow tools for the web services that have a growing user base in
bioinformatics. The challenge is to prepare RTEs for
programs or databases and to offer such concisely to users of the
workflow environments.  In the bioinformatics community, such are
today offered as web services.  This anticipated development instead
fosters the dynamic installation on the grid whenever appropriate to
allow for special computational demands in high-throughput analyses.
Conversely, because of the increased complexity of workflows with respect
to the already today not manually manageable number of RTEs, without an
automatism for the automated installation of software packages on the
grid, the use of workflows in grid computing seems mute.

\section{Implementation of a Catalog service}
 
A Catalog service is planed to be implemented on top of the ARC
HED component.  This service will render the currently used locally
accessible RDF file externally accessible. Selected users are then allowed
to remotely add/edit/remove REs to/from to it.  The Janitor will access
the content of the Catalog through a well-defined Web Service interface.

\section{Integration with the Virtualization work}

The RDF schema nicely prepares for the upcoming virtualisation of worker
nodes. Hereto, the {\tt BaseSystem} indicates a virtual image to which
further packages, the dynamic REs, would then be added.
How exactly the dynamics are integrated will depend on how
dynamic the virtualisation of the nodes is. In the simplest scenario,
a worker node's CPU will only be occupied by a single virtual machine
and that will not be changed. In this case, there is no difference to
the setup of the Janitor with today's static setups.

However, if the BaseSystems can be substituted dynamically, then a RE
can possibly be offered via multiple BaseSystems. The RDF
Schema describes BaseSystems as separate instances and as such differs
from the current RE registry.  Heuristics that prefer one BaseSystem for
another can make direct use of the data that is presented in the schema.
The integration of packages from Linux distributions in the description
of REs is essential to have a means to decide for the equivalence of
manual additions and the functionality that comes with BaseSystem.


\section{Use of RDF}

The RDF is "correctly" used within the Janitor via the Redland libraries.
What is still missing is a semantical reasoning on what packages to
allow or disallow. For instance: allow all packages associated with
bioinformatics. This shall wait a bit longer until more experiences
on the community's demand for this service have been made.

\section{Manual Verification}

There is yet no explicit notion of a concept on how users can report
on the reliability of individual compute nodes and use such information
for the decision making on where to sent their jobs. And with an increasing
complexity of software installed, being used across versions, one will
rather trust one's very own experiences for individual sites than some
external repository or other pieces of information that may be weeks
or months old.

Consequently, no means for a manual verification and the communication
of results of such have yet been implemented.


%TODO:\\
%\begin{itemize}
% \item There is a arc.conf file in which all possiblie flags are listed... ADD THE JANITOR FLAGS!!!
% \item Dynamic RTEs are now listed as manually installed in the ``janitor list'' command.. change that
% \item Verfication
%\end{itemize}



%(1) The HostInfoJanitor.pm queries the catalog for available RTE names.
%    It is fast, such that I assume a fork or a cache is currently not needed. 
%    > Nevertheless I installed an alarm of 15 Seconds

%(2) In order to enable the Grid-Manager to invoke Janitor, a wrapper rJanitor.c has
%    (already) been written (by Daniel). 
%    This wrapper gives Janitor the necessary rights using a suid bit. 
%    >It is installed and used but not yet tested well
%    >In case Daniel is right, it will work

% (3) > ... ?? hmm... well seems there is some information loss here... point 3... suppose it must have been important.

%(4) The function "check" (nowadays ``info'') was meant to return the information about a runtime 
%      environment. It may possible to merge with the deploy functionality 
%      if desired. (The Janitor source code will remain the same, only the interface will 
%      be changed.)
%      >Since this is mere beautification, this is postponed

%(5) The information about the runtime environments is passed to the backend
%    script. (It is not specifed yet how this has to be done)
%       o Installation directories
%       o Script to set environment variables
%    > Currently a ``deploy'' action will set symbolic links for *ALL* dynamically installed
%    > METAPACKAGES!  That means, nothing has to be done here. The backends script won't (hopefully)
%    > except the symbolic links and execute the corresponding script delievered along with the tarball 
%    > package. 
%    > The symbolic link will be removed respictvely on ``remove''
%
%    > TODO: Dynamic RTEs are now listed as manually installed in the ``janitor list'' command.. change *that*
%
%    > TODO: Think about the user rights of the symbolic link...

%(6) Once the grid job has been finished, the token on the runtime environment will
%      be removed. (If no tokens left, the environment may be deinstalled)
%    > Well, that's nothing new for me, but maybe nice to know :-)

%(7) GLUE2 specification: Balazs like to have an interface for Janitor. This task is 
%   put on the agenda. It is still unclear how the interaction with that interface shall be 
%   realised. Janitor can only access data concerning the class ApplicationEnvironment.
%   Shall a XML snippet be returned?
%  > Alright now, almost 1.5 month later I know what he asked for.
%  >
%  > Please examine following files in src/services/a-rex/infoproviders/:
%    o ARC1ClusterInfo.pm:~744
%    o HostInfo.pm:~218
%    o HostInfoJanitor.pm
%  >
%  > The HostInfo.pm collects a list of manually and dynamically (HostInfoJanitor.pm) installed RTE *NAMES*.
%  > ARC1ClusterInfo.pm adds some hard coded information (description, states, etc.) to it and puts it into the schema.
%  >
%  > WHAT HAS TO BE DONE?
%  >
%  > HostInfo.pm has to create a *HASH MAP* with must have as much information as possible (description, states, etc.).
%  > Therefore HostInfoJanitor.pm has to be extended to gather more information out of the catalog.
%  > ARC1ClusterInfo.pm needs to be stultified such that the *HASH MAP* received from HostInfo.pm will simply mapped
%  > to the schema.

%(8) Verfication
%    o Of validity of tar-package (Store the catalog somewhere safe! Hash-value database?)
%    o Of the executer of Janitor (This can be done using a WEB SERVICE!!! )
%    o TODO: I experienced some problems in case some shell tools are not installed on clusters
%            i.e.  unzip
%            There should be some kind of check or RESTRICTION to what can be used

%(9) The missing feature for dependencies 
%    Assume, one wants to install package A which depends on package B.
%    Both are getting installed dynamically.
%    Right before job execution, the runtime scripts of package A is executed. 
%    Still missing is the execution of the runtime script of B!
%
%    Simple workaround: Request package B in job description too
%    Correct solution:  Dependencies have to be returned by Janitor and added to the job.description file!!!!!
%                       (Janitor info 21 or *EXTEND* Janitor deploy + Get Janitor output in states.cpp and put
%			it into the description file)




