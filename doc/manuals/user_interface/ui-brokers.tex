% text about brokers; may need to be extended and possibly re-used in another
% document, or moved as a separate subsection

Possible \index{broker}broker values for the \texttt{arcsub} command line option \verb#-b# are:
\begin{itemize}
 \item[--] \texttt{Random} -- ranks targets randomly (default)
 \item[--] \texttt{FastestQueue} -- ranks targets according to their queue length
 \item[--] \texttt{Benchmark[:name]} -- ranks targets according to a given benchmark, as specified by the \texttt{name}. If no benchmark is specified, CINT2000~\footnote{http://www.spec.org/cpu2000/CINT2000/} is used
 \item[--] \texttt{Data} -- ranks targets according the amount of megabytes of the
requested input files that are already in the computing resourceâ€™s cache.
 \item[--] \texttt{Python:$<$module$>$.$<$class$>$[:arguments]} -- ranks targets using any user-supplied custom Python broker module, optionally with broker arguments. Such module can reside anywhere in user's \texttt{PYTHONPATH}
% Below path is OS dependend.
 \item[--] \texttt{$<$otherbroker$>$[:arguments]} -- ranks targets using any user-supplied custom C++ broker plugin, optionally with broker arguments. Default location for broker plugins is \texttt{/usr/lib/arc} (may depend on the operating system), or the one specified by the \texttt{ARC\_PLUGIN\_PATH}.
\end{itemize}

% Below paths and description are OS dependend.
To write a custom broker in C++ one has to write a new specialization of the \texttt{Broker} base class and implement the \texttt{SortTargets} method in the new class. The class should be compiled as a loadable
module that has the proper ARC plugin descriptor for the new broker. For example, to build a broker plugin ``MyBroker'' one executes:
\begin{lstlisting}[language=sh]
  g++ -I /arc-install/include \
      -L /arc-install/lib \
      `pkg-config --cflags glibmm-2.4 libxml-2.0` \
      -o libaccmybroker.so -shared MyBroker.cpp
\end{lstlisting}
For more details, refer to \textit{libarclib} documentation~\cite{libarcclient}.

