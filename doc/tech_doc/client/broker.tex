\documentclass[twoside,english]{article}
\usepackage{mathptmx}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage[a4paper]{geometry}
\geometry{verbose,tmargin=2.5cm,bmargin=2.5cm,lmargin=2.5cm,rmargin=2cm}
\setlength{\parskip}{\smallskipamount}
\setlength{\parindent}{0pt}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{multirow}
\usepackage{booktabs}

\makeatletter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
%% Because html converters don't know tabularnewline
\providecommand{\tabularnewline}{\\}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{graphicx}                              %for PNG images (pdflatex)
%\usepackage{graphics}                              %for EPS images (latex)
\usepackage[linkbordercolor={1.0 1.0 0.0}]{hyperref} %for \url tag
\usepackage{color}                                 %for defining custom colors
\usepackage{framed}                                %for shaded and framed paragraphs
\usepackage{textcomp}                              %for various symbols, e.g. Registered Mark
\usepackage{geometry}                              %for defining page size
\usepackage{longtable}                             %for breaking tables
%
\geometry{verbose,a4paper,tmargin=2.5cm,bmargin=2.5cm,lmargin=2.5cm,rmargin=2cm}
\hypersetup{
  pdfauthor = {Author Name},
  pdftitle = {Document Title},
  pdfsubject = {Document Subtitle},
  pdfkeywords = {ARC,NorduGrid,manual,keywords},
  pdfcreator = {PDFLaTeX with hyperref package},
  pdfproducer = {PDFLaTeX}
}
%
\bibliographystyle{IEEEtran}                       %a nice bibliography style
%
\def\efill{\hfill\nopagebreak}%
\hyphenation{Nordu-Grid}
\setlength{\parindent}{0cm}
\setlength{\FrameRule}{1pt}
\setlength{\FrameSep}{8pt}
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\renewcommand{\arraystretch}{1.3}
\newcommand{\dothis}{\colorbox{shadecolor}}
\newcommand{\globus}{Globus Toolkit\textsuperscript{\textregistered}~2~}
\newcommand{\GT}{Globus Toolkit\textsuperscript{\textregistered}}
\newcommand{\ngdl}{\url{http://ftp.nordugrid.org/download}~}
\definecolor{shadecolor}{rgb}{1,1,0.6}
\definecolor{salmon}{rgb}{1,0.9,1}
\definecolor{bordeaux}{rgb}{0.75,0.,0.}
\definecolor{cyan}{rgb}{0,1,1}
%

\makeatother

\usepackage{babel}

\begin{document}
\def\today{\number\day/\number\month/\number\year}

\begin{titlepage}

\begin{tabular}{rl} \resizebox*{3cm}{!}{\includegraphics{ng-logo.png}} &\parbox[b]{2cm}{\textbf \it {\hspace*{-1.5cm}NORDUGRID\vspace*{0.5cm}}} \end{tabular}

\hrulefill

{\raggedleft NORDUGRID-XXXXXXX-NN\par}



{\raggedleft \today\par}



\vspace*{2cm}

\begin{center}
\textsc{\Large ARC Broker Mapping}
\par\end{center}{\Large \par}

\vspace*{0.5cm}

\begin{center}
\textit{\large Paper Subtitle}
\par\end{center}{\large \par}

\vspace*{1.5cm}

{\centering \large M.S. Andersen\footnote{skou@nbi.dk} \large \par}

\end{titlepage}

\thispagestyle{empty}

\newpage

\tableofcontents{}

\newpage


\section{Introduction}\label{sec:Introduction}

This document contains a description of the broker used in the Advanced
Resource Connector (ARC) middleware as of version 1.0. In section
\ref{sec:Attribute-matching} a description of how target attributes
are matched and compared to attributes specified in the job description.


\section{Attribute matching}\label{sec:Attribute-matching}

In the broker attributes published by the candidate target need to
be matched and compared to attributes specified in the job description
to be able to select targets which are suitable for accepting the
job description. Targets which do not pass a certain comparison will
be not be a candidate target for submission. Detailed information
about the attributes described below can be found in the ARC job description
document. First the broker will check some basics for the target being
processed. First, if the job description specifies submission to specific
targets and/or queues, the target will be checked and if it is not
among these targets and/or queues, it will be dropped. Next the number
of free slots on the target will be checked, and if no free slots
exist, then it will be dropped. After this, the health state of the
target is checked, and if any other value than "ok"
is published then it is dropped. Last, if middleware specific submission
is specified in the job description, the middleware type of the target
is checked, and if it does not satisfy the middleware requirements
then it is dropped. After these basic checks, certain attributes specified
in the job description are compared to the attributes published by
the target being processed. If the target does not publish a attribute
which is specified in the job description the target will dropped,
with some exceptions.

\begin{table}
\footnotesize{\texttt{
\begin{tabular}{cccc}
\toprule
\textnormal{\normalsize Job description attributes} & \textnormal{\normalsize Comparator} & \textnormal{\normalsize Target attribute} & \tabularnewline
\midrule
Resources.CandidateTarget[i].EndPointURL & $==$ & url & \tabularnewline
Resources.CandidateTarget[i].QueueName & $==$ & MappingQueue & \tabularnewline
\midrule
Application.ProcessingStartTime    & $<$ & DowntimeStarts & \multirow{2}{*}{AND} \tabularnewline
Application.ProcessingStartTime    & $>$ & DowntimeEnds &\tabularnewline
\midrule
Resources.CEType & isSatisfied( & Implementation & ) \tabularnewline
\midrule
Resources.TotalWallTime.range.max & $<$ & MaxWallTime & \tabularnewline
Resources.TotalWallTime.range.min & $>$ & MinWallTime & \tabularnewline
Resources.TotalCPUTime.range.max & $<$ & MaxCPUTime & \tabularnewline
Resources.TotalCPUTime.range.min & $>$ & MinCPUTime & \tabularnewline
\midrule
Resources.IndividualPhysicalMemory & $\leq$ & MainMemory & \multirow{2}{*}{OR} \tabularnewline
Resources.IndividualPhysicalMemory & $\leq$ & MaxMemory &\tabularnewline
Resources.IndividualVirtualMemory & $\leq$ & MaxVirtualMemory & \tabularnewline
\midrule
Resources.Platform & $==$ & Platform & \tabularnewline
\midrule
Resources.OperatingSystem & isSatisfied( & OperatingSystem & )\tabularnewline
Resources.RunTimeEnvironment & isSatisfied( & ApplicationEnvironments & )\tabularnewline
\midrule
Resources.NetworkInfo & in & NetworkInfo & \tabularnewline
\midrule
Resources.DiskSpaceRequirement.SessionDiskSpace & $\leq$ & MaxDiskSpace & \multirow{2}{*}{OR} \tabularnewline
Resources.DiskSpaceRequirement.SessionDiskSpace & $\leq$ & WorkingAreaTotal & \tabularnewline
\midrule
Resources.DiskSpaceRequirement.DiskSpace & \multirow{2}{*}{$\leq$} & \multirow{2}{*}{MaxDiskSpace} & \multirow{4}{*}{OR} \tabularnewline
$-$ Resources.DiskSpaceRequirement.CacheDiskSpace & & & \tabularnewline
Resources.DiskSpaceRequirement.DiskSpace & \multirow{2}{*}{$\leq$} & \multirow{2}{*}{WorkingAreaTotal} & \tabularnewline
$-$ Resources.DiskSpaceRequirement.CacheDiskSpace & & & \tabularnewline
\midrule
Resources.DiskSpaceRequirement.DiskSpace & $\leq$ & MaxDiskSpace & \multirow{2}{*}{OR} \tabularnewline
Resources.DiskSpaceRequirement.DiskSpace & $\leq$ & WorkingAreaTotal & \tabularnewline
Resources.DiskSpaceRequirement.CacheDiskSpace & $\leq$ & CacheTotal & \tabularnewline
\midrule
Resources.SlotRequirement.NumberOfSlots & $\leq$ & TotalSlots & \tabularnewline
Resources.SlotRequirement.NumberOfSlots & $\leq$ & MaxSlotsPerJob & \tabularnewline
\midrule
Resources.SessionLifeTime & $\leq$ & WorkingAreaLifeTime & \tabularnewline
\midrule
Resources.NodeAccess is NAT\_{}INBOUND OR NAT\_{}INOUTBOUND & AND & ConnectivityIn & \tabularnewline
Resources.NodeAccess is NAT\_{}OUTBOUND OR NAT\_{}INOUTBOUND & AND & ConnectivityOut & \tabularnewline
\bottomrule
\end{tabular}
}}
\caption{}
\end{table}

\begin{thebibliography}{2}
\bibitem{key-1}NorduGrid middleware, the Advanced Resource Connector.
\url{http://www.nordugrid.org/middleware/}

\bibitem{Globus}The Globus Alliance. \texttt{\url{http://www.globus.org}}
\end{thebibliography}

\end{document}
