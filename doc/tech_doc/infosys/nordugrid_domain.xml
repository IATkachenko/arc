<?xml version="1.0" encoding="UTF-8"?>
<glue:Domains xmlns:glue="http://schemas.ogf.org/glue/2009/03/spec/2/0" 
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
              targetNamespace="http://schemas.ogf.org/glue/2009/03/spec/2/0"
              xsi:schemaLocation="http://schemas.ogf.org/glue/2009/03/spec/2/0 ../xsd/GLUE2.xsd">
    
    <AdminDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
        <ID>urn:ogf:AdminDomain:NIIF-TOP.niif.hu</ID>
        <Name>NIIF-TOP</Name> <!-- string -->
	    <OtherInfo>Top domain of the Hungarian Clustergrid</OtherInfo>
	    <Description>This is the main NIIF admin unit</Description>        
	    <WWW>http://www.niif.hu</WWW>
	    <Distributed>false</Distributed>
        <Owner>NIIF</Owner> <!-- string -->
	    <Owner>HGCC</Owner> <!-- string -->
        <Location CreationTime="2008-04-21T10:05:12Z" Validity="500">
            <ID>urn:ogf:Location:Hungary/HU-1200/Budapest/Victor+Hugo+11</ID>
            <Name>Budapest, Hungary</Name>
	        <Address>Victor Hugo 11</Address>
	        <Place>Budapest</Place>
	        <Country>Hungary</Country>
	        <PostCode>HU-1200</PostCode>
	        <Latitude>47.51</Latitude>
	        <Longitude>19.05</Longitude>
        </Location>
        <Contact CreationTime="2008-04-21T10:05:12Z" Validity="500">
            <ID>urn:ogf:Contact:mailto:support@niif.hu</ID>
            <Name>User Support</Name>
            <Detail>mailto:support@niif.hu</Detail>
            <Type>usersupport</Type>
	        <OtherInfo>Only for NIIF users</OtherInfo>
        </Contact>
        <Contact CreationTime="2008-04-21T10:05:12Z" Validity="500">
            <ID>urn:ogf:Contact:http://www.niif.hu/contacts</ID>
            <Name>Who to contact</Name>
            <URL>http://www.niif.hu/contacts</URL>
            <Type>general</Type>
	        <OtherInfo>E-mail is preferred</OtherInfo>
        </Contact>

        <Services>
            <ComputingService CreationTime="2008-04-21T10:05:12Z" Validity="500"  BaseType="Service">
                <ID>urn:ogf:ComputingService:arex.niif.hu:8000</ID>
		        <Name>NIIF CE</Name>
		        <Otherinfo>warning: frequent reconfiguration</Otherinfo>                                             
		        <Capability>executionmanagement.jobexecution</Capability>
		        <Type>org.nordugrid.arex</Type>
		        <QualityLevel>preproduction</QualityLevel>
		        <StatusInfo>http://arex.niif.hu/status</StatusInfo>
		        <Complexity>endpoint=1,share=2,manager=1</Complexity>
		        <Location CreationTime="2008-04-21T10:05:12Z" Validity="500">
		            <ID>location2</ID>
		            <Name>...</Name>
                    <OtherInfo></OtherInfo>
		        </Location>
		        <Contact CreationTime="2008-04-21T10:05:12Z" Validity="500">>
		            <ID>contact3</ID>
		            <Name>contact3</Name>
                    <Detail>...</Detail>
		            <Type>...</Type>
                    <OtherInfo></OtherInfo>
		        </Contact>   
                <!-- Computing service specific attributes -->
                <TotalJobs>36</TotalJobs>
                <RunningJobs>3</RunningJobs> 
                <WaitingJobs>6</WaitingJobs>
                <StagingJobs>7</StagingJobs>
		        <SuspendedJobs>4</SuspendedJobs>
                <PreLRMSWaitingJobs>16</PreLRMSWaitingJobs>
		        <Endpoint CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Endpoint">
                    <ID>endpoint1</ID>
                    <URL>https://129.12.231:60000/delegation</URL>
                    <Capability>security.delegation</Capability>
                    <Technology>webservice</Technology>
                    <InterfaceName>NORDUGRID-DELEGATION</InterfaceName>
                    <InterfaceVersion>0.98</InterfaceVersion>
                    <QualityLevel>preproduction</QualityLevel>
                    <HealthState></HealthState>
                    <ServingState></ServingState>
                </Endpoint>
		        <ComputingEndpoint CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Endpoint">
		            <ID>computing-endpoint-1</ID>
		            <Name>AREX</Name>
		            <URL>https://129.12.231:60000/arex</URL>				    
                    <Capability>executionmanagement.jobexecution</Capability>
		            <Technology>webservice</Technology> 				    
		            <InterfaceName>OGSA-BES</InterfaceName> <!-- what about extensions? -->
		            <InterfaceVersion>1.0</InterfaceVersion>
                    <WSDL>https://129.12.231:60000/arex/?wsdl</WSDL>
		            <SupportedProfile>WS-I 1.0</SupportedProfile> <!-- wrong type, it should be URI--> 
		            <SupportedProfile>HPC-BP </SupportedProfile> <!-- wrong type, it should be URI-->
                    <Semantics>http://www.nordugrid.org/documents/arex.pdf </Semantics>
                    <Implementor>NorduGrid</Implementor>
		            <ImplementationName>ARC1</ImplementationName>
		            <ImplementationVersion>0.9</ImplementationVersion>
		            <QualityLevel>testing</QualityLevel>
		            <HealthState>ok</HealthState>
		            <HealthStateInfo>normal operation</HealthStateInfo>
		            <ServingState>draining</ServingState> 				    
		            <StartTime>2008-04-12T09:47:53+01:00</StartTime>
		            <IssuerCA>/O=Grid/O=NorduGrid/CN=NorduGrid Certification Authority</IssuerCA>
		            <TrustedCA>/O=Grid/O=NorduGrid/CN=NorduGrid Certification Authority</TrustedCA>
                    <DowntimeAnnounce>2008-03-12T09:59:56+01:00</DowntimeAnnounce>
		            <DowntimeStart>2008-04-29T09:57:56+01:00</DowntimeStart>
		            <DowntimeEnd>2008-04-30T09:59:56+01:00</DowntimeEnd>
		            <DowntimeInfo>Opsys update</DowntimeInfo> 	    
		            <!-- Computing endpoint specific attributes -->
		            <Staging>staginginout</Staging>
		            <Associations>
		                    <ComputingShareID>computing-share-1</ComputingShareID>
			                <ComputingShareID>computing-share-2</ComputingShareID>
			                <ComputingActivityID>...</ComputingActivityID> <!--related activities can be listed here-->
		            </Associations>
		        </ComputingEndpoint>
	            <ComputingShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">	    
			        <ID>computing-share-1</ID>
			        <Name>Atlas-short</Name>
			        <Description>a share set up for short Atlas jobs</Description>
			        <!-- Computing share specific attributes -->
			        <MappingQueue>pbs-short</MappingQueue>  						        		   
			        <MaxWallTime>12000</MaxWallTime>  <!-- do not attribute meaning to the numbers below-->
			        <MinWallTime>11</MinWallTime>
			        <DefaultWallTime>9000</DefaultWallTime>
			        <MaxCPUTime>43200</MaxCPUTime>
			        <MinCPUTime>32</MinCPUTime>
			        <DefaultCPUTime>11</DefaultCPUTime>
			        <MaxTotalJobs>500</MaxTotalJobs>
			        <MaxRunningJobs>50</MaxRunningJobs>
			        <MaxWaitingJobs>200</MaxWaitingJobs>
			        <MaxPreLRMSWaitingJobs>400</MaxPreLRMSWaitingJobs>
			        <MaxUserRunningJobs>1</MaxUserRunningJobs>
			        <MaxSlotsPerJob>4</MaxSlotsPerJob>
			        <MaxStateInStreams>3</MaxStateInStreams>
			        <MaxStageOutStreams>2</MaxStageOutStreams>
			        <SchedulingPolicy>fairshare</SchedulingPolicy>
			        <MaxMainMemory>1</MaxMainMemory>
			        <MaxDiskSpace>1</MaxDiskSpace>
			        <DefaultStorageService>https://storage.niif.hu/default</DefaultStorageService>
			        <Preemption>true</Preemption>
			        <ServingState>production</ServingState>
			        <TotalJobs>40</TotalJobs>
			        <RunningJobs>30</RunningJobs>
			        <LocalRunningJobs>0</LocalRunningJobs>
			        <WaitingJobs>1</WaitingJobs>
			        <LocalWaitingJobs>1</LocalWaitingJobs>
			        <StagingJobs>1</StagingJobs>
			        <SuspendedJobs>12</SuspendedJobs>
			        <PreLRMSWaitingJobs>1</PreLRMSWaitingJobs>
			        <EstimatedAverageWaitingTime>1</EstimatedAverageWaitingTime>
			        <EstimatedWorstWaitingTime>1</EstimatedWorstWaitingTime>
			        <FreeSlots>14</FreeSlots>
			        <UsedSlots>7</UsedSlots>
			        <RequestedSlots>378</RequestedSlots>
			        <ReservationPolicy>none</ReservationPolicy>
			        <Tag>HEPPO</Tag>
			        <Tag>MIT12</Tag>			
			        <MappingPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy"/>
			        <Associations>
			            <ComputingEndpointID>..</ComputingEndpointID>
			            <ExecutionEnvironmentID>..</ExecutionEnvironmentID>
			        </Associations>			
			        <ComputingActivities>
                        <ComputingActivity CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Activity">
fill this in
                        </ComputingActivity>
                    </ComputingActivities>
		        </ComputingShare>		    
	            <ComputingShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">	    
			        <ID>computing-share-2</ID>
			        <Name>Atlas-LONG</Name>
			        <Description>a share set up for long Atlas jobs</Description>
			        <!-- Computing share specific attributes -->
			        <MappingQueue>pbs-long</MappingQueue>							        		   
			        <MaxWallTime>12000</MaxWallTime>  <!-- do not attribute meaning to the numbers below-->
			        <MinWallTime>11</MinWallTime>
			        <DefaultWallTime>9000</DefaultWallTime>
			        <MaxCPUTime>43200</MaxCPUTime>
			        <MinCPUTime>32</MinCPUTime>
			        <DefaultCPUTime>11</DefaultCPUTime>
			        <MaxTotalJobs>500</MaxTotalJobs>
			        <MaxRunningJobs>50</MaxRunningJobs>
			        <MaxWaitingJobs>200</MaxWaitingJobs>
			        <MaxPreLRMSWaitingJobs>400</MaxPreLRMSWaitingJobs>
			        <MaxUserRunningJobs>1</MaxUserRunningJobs>
			        <MaxSlotsPerJob>4</MaxSlotsPerJob>
			        <MaxStateInStreams>3</MaxStateInStreams>
			        <MaxStageOutStreams>2</MaxStageOutStreams>
			        <SchedulingPolicy>fairshare</SchedulingPolicy>
			        <MaxMainMemory>1</MaxMainMemory>
			        <MaxDiskSpace>1</MaxDiskSpace>
			        <DefaultStorageService>https://storage.niif.hu/default</DefaultStorageService>
			        <Preemption>true</Preemption>
			        <ServingState>production</ServingState>
        			<TotalJobs>40</TotalJobs>
        			<RunningJobs>30</RunningJobs>
        			<LocalRunningJobs>0</LocalRunningJobs>
        			<WaitingJobs>1</WaitingJobs>
        			<LocalWaitingJobs>1</LocalWaitingJobs>
        			<StagingJobs>1</StagingJobs>
        			<SuspendedJobs>12</SuspendedJobs>
        			<PreLRMSWaitingJobs>1</PreLRMSWaitingJobs>
        			<EstimatedAverageWaitingTime>1</EstimatedAverageWaitingTime>
        			<EstimatedWorstWaitingTime>1</EstimatedWorstWaitingTime>
        			<FreeSlots>14</FreeSlots>
        			<UsedSlots>7</UsedSlots>
        			<RequestedSlots>378</RequestedSlots>
        			<ReservationPolicy>none</ReservationPolicy>
        			<Tag>TT1</Tag>
        			<Tag>HH12</Tag> 			
        			<MappingPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy"/>
        			<Associations>
        			    <ComputingEndpointID>..</ComputingEndpointID>
        			    <ExecutionEnvironmentID>..</ExecutionEnvironmentID>
        			</Associations>				
			        <ComputingActivities>
                        <ComputingActivity CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Activity">
                        </ComputingActivity>
                    </ComputingActivities>
        		</ComputingShare>
		    
                <ComputingManager CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Manager">
                    <ID>comuting-manager-1</ID>
                    <Name>Cluster A</Name>
                    <!-- Comuting Resource specific attributes -->
		            <Benchmark CreationTime="2008-04-21T10:05:12Z" Validity="500">
		                <ID>urn:ogf:Benchmark:specint2000:399</ID>
		                <Name></Name>
		                <OtherInfo>Compiler: gcc version 3.4.6 20060404</OtherInfo>
		                <OtherInfo>Optimization flags: -O5 -msse3</OtherInfo>
			            <Type>specint2000</Type>
			            <Value>399</Value>
		            </Benchmark>		    	
		        <ApplicationEnvironments>
		            <ApplicationEnvironment CreationTime="2008-04-21T10:05:12Z" Validity="500">
			            <ID>..</ID> 
			            <ApplicationHandle>
			                <ID>..</ID>
			            </ApplicationHandle>
			            <Associations> <!-- check how to use wildcards for all the executionenvironments-->
			                <ExecutionEnvironmentID>..</ExecutionEnvironmentID>
			            </Associations>
			        </ApplicationEnvironment>		    
		            <ApplicationEnvironment CreationTime="2008-04-21T10:05:12Z" Validity="500">
			            <ID>..</ID> 
			        </ApplicationEnvironment>										
		        </ApplicationEnvironments>
                <ExecutionEnvironments>
                    <ExecutionEnvironment CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Resource"> <!--there is only one, it is a homogeneous cluster-->
			            <ID>..</ID> 
		                <Benchmark>
		                    <ID></ID>
			                <Type>SPECINT2000</Type>
			                <Value>399</Value>
		                </Benchmark>		    	
		                <Associations>
		    	            <ComputingShareID>..</ComputingShareID>
			                <ComputingShareID>..</ComputingShareID>
			                <ApplicationEnvironmentID>..</ApplicationEnvironmentID>
			                <ComputingActivityID>..</ComputingActivityID>			    
		                </Associations>	                          
                    </ExecutionEnvironment> 
                </ExecutionEnvironments>
            </ComputingManager>
            <ComputingManager>
                <ID></ID>
            </ComputingManager>
	    </ComputingService>
        <Service CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Service">
            <ID></ID>
        </Service>
            
        <!-- XXX update needed -->
        <StorageService CreationTime="2008-04-21T10:05:12Z" Validity="500"  BaseType="Service"> <!--not complete, just the skeleton elements-->
	        <ID>[URI]</ID>
	        <StorageEndpoint>
		    <AccessPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy"/> 
		    <Associations/>		        
		</StorageEndpoint>
		<StorageEndpoint CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Endpoint">
		    <AccessPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy"/> 
		    <Associations/>			
		</StorageEndpoint>
	        <StorageAccessProtocol></StorageAccessProtocol>
		<StorageAccessProtocol></StorageAccessProtocol>
		<StorageServiceCapacity></StorageServiceCapacity>
		<StorageShares>
		    <StorageShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">
		        <StorageShareCapacity/>
			<MappingPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy">
			    <ID>idxx</ID>
			    <Scheme>basic</Scheme>
			    <Rule>VO:ATLAS</Rule>
			</MappingPolicy>			
		    </StorageShare>
		    <StorageShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">
			<MappingPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy">
			    <ID>idxx</ID>
			    <Scheme>basic</Scheme>
			    <Rule>VO:BIO</Rule>
			</MappingPolicy>			    
		    </StorageShare>
		    <StorageShare CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Share">
			<MappingPolicy CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Policy">
			    <ID>idxx</ID>
			    <Scheme>basic</Scheme>
			    <Rule>VO:GEO</Rule>
			</MappingPolicy>		    
		    </StorageShare>		    		    
		</StorageShares>		
		<StorageResource CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Resource">
		    <DataStore>
		        <Associations/>
		    </DataStore>
		    <DataStore>
		        <Associations/>
		    </DataStore>		    
		</StorageResource>		
	    </StorageService>
	    <Service> <!-- question: do we need the basetype this case as well?-->
	       <!--general service will come here-->
	    </Service>
	    <Service>
	       <!--another general service example will come here-->
	    </Service>
        </Services>
	
    </AdminDomain>
    
    <UserDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
    	<ID>urn:ogf:UserDomain:atlas</ID>
	    <Name>ATLAS VO members</Name>
	    <Description>HEP ATLAS USER GROUP</Description>
	    <WWW>http://atlas.web.cern.ch</WWW>
	    <Otherinfo>AUP document is available on VO webpage</Otherinfo>
	    <Level>0</Level>
	    <UserManager>https://lcg-voms.cern.ch:8443/vo/atlas/vomrs</UserManager>
        <Member>/atlas</Member>
        <Member>/atlas.ch</Member>
        <Location CreationTime="2008-04-21T10:05:12Z" Validity="500">>
        </Location>
        <Contact CreationTime="2008-04-21T10:05:12Z" Validity="500">>
        </Contact>
    </UserDomain>
    <UserDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
        <ID>urn:ogf:UserDomain:nordugrid.org</ID>
	    <Name>Nordugrid VO members</Name>
	    <Level>0</Level>
        <Member>/nordugrid.org</Member>
	    <UserManager>https://voms.ndgf.org:8443/voms/nordugrid.org</UserManager>
    </UserDomain>
    <UserDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
        <ID>urn:ogf:UserDomain:nordugrid.org/Role=developer</ID>
	    <Name>Nordugrid VO developers</Name>
	    <Level>1</Level>
        <Member>/nordugrid.org/Role=developer</Member>
	    <UserManager>https://voms.ndgf.org:8443/voms/nordugrid.org</UserManager>
        <Associations>
    </UserDomain>
    <UserDomain CreationTime="2008-04-21T10:05:12Z" Validity="500" BaseType="Domain">
        <ID>urn:ogf:UserDomain:knowarc.eu</ID>
	    <Name>KnowARC VO members</Name>
	    <Level>0</Level>
        <Member>/knowarc.eu</Member>
	    <UserManager>https://arthur.hep.lu.se:8443/voms/knowarc.eu</UserManager>
    </UserDomain>
</glue:Domains>


<!-- This example presents a complete glue2 document describing user and admin domains with several services. 
It intends to demonstrate the full capabilities of glue2, most of the glue2 xmls will be much simplier.
The example is based upon the glue2 draft version 37.
TODO:
- add more complex computing services (inhomogeneous cluster, desktop cluster built from VM machines, etc..)
- add the storage part
- add couple of ordinary services 
- indicate mandatory attributes
-->
