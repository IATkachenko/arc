.\" -*- nroff -*-
.TH APPROXY 1 "@DATE@" "NorduGrid ARC @VERSION@" "NorduGrid Users Manual"
.SH NAME
arcproxy \- ARC Credentials Proxy generation utility
.SH SYNOPSIS
.B arcproxy
[\fIOPTION\fR]
.SH DESCRIPTION
.\" Add any additional description here
.PP
arcproxy generates proxy credentials (general proxy certificate, or
proxy certificate with voms AC extenstion) from private key and
certificate of user.
.SH OPTIONS
.TP
\fB\-d\fR
level of information printed. Possible values are DEBUG, VERBOSE, INFO, WARNING, ERROR and FATAL.
.TP
\fB\-P\fR
location of generated credentials proxy file
.TP
\fB\-C\fR
location of X509 certificate file
.TP
\fB\-K\fR
location of private key file
.TP
\fB\-T\fR
path to trusted certificate directory, only needed for voms client functionality
.TP
\fB\-V\fR
path to voms server configuration file, only needed for voms client functionality
.TP
\fB\-S\fR
voms<:command>. Specify voms server.
              :command is optional, and is used to ask for specific attributes(e.g: roles)
              command option is:
              all --- put all of this DN's attributes into AC;
              list ---list all of the DN's attribute,will not create AC extension;
              /Role=yourRole --- specify the role, if this DN
                               has such a role, the role will be put into AC
              /voname/groupname/Role=yourRole --- specify the vo,group and role if this DN
                               has such a role, the role will be put into AC

.TP
\fB\-o\fR
group<:role>. Specify ordering of attributes.
              Example: --order /knowarc.eu/coredev:Developer,/knowarc.eu/testers:Tester
              or: --order /knowarc.eu/coredev:Developer --order /knowarc.eu/testers:Tester
              Note that it does not make sense to specify the order if you have two or more different voms server specified

.TP
\fB\-G\fR
use GSI communication protocol for contacting VOMS services

.TP
\fB\-O\fR
use GSI proxy (RFC 3820 compliant proxy is default)

.TP
\fB\-I\fR
print all information about this proxy.
              In order to show the Identity (DN without CN as subfix for proxy)
              of the certificate, the 'trusted certdir' is needed.

.TP
\fB\-r\fR
Remove the proxy file.

.TP
\fB\-U\fR
Username to myproxy server.

.TP
\fB\-L\fR
hostname of myproxy server optinally followed by colon and port number, e.g. 
              example.org:7512. If the port number has not
              been specified, 7512 is used by default.

.TP
\fB\-M\fR
command to myproxy server. The command can be PUT and GET.
              PUT/put -- put a delegated credential to myproxy server;
              GET/get -- get a delegated credential from myproxy server,
              credential (certificate and key) is not needed in this case;
              myproxy functionality can be used together with voms functionality.

.TP
\fB\-c\fR
constraints of proxy certificate. Currently following constraints are supported:

\fBvalidityStart=time\fR - time when certificate becomes valid. Default is now.

\fBvalidityEnd=time\fR - time when certificate becomes invalid. Default is 43200 (12 hours) from start.

\fBvalidityPeriod=time\fR - for how long certificate is valid. Default is 43200 (12 hours).

\fBvomsACvalidityPeriod=time\fR - for how long the AC is valid. Default is the same as validityPeriod.

\fBproxyPolicy=policy content\fR - assigns specified string to proxy prolicy to limit it's functionality.
.TP
\fB\-h\fR
prints short usage description
.PP
If not specified location of certificate, key and proxy will be taken from content of environment
variables X509_USER_CERT, X509_USER_KEY and X509_USER_PROXY.

.SH "REPORTING BUGS"
Report bugs to http://bugzilla.nordugrid.org/

.SH ENVIRONMENT VARIABLES

.TP
.B ARC_LOCATION
The location where ARC is installed can be specified by this variable. If not
specified the install location will be determined from the path to the
command being executed, and if this fails a WARNING will be given stating the
location which will be used.

.TP
.B ARC_PLUGIN_PATH
The location of ARC plugins can be specified by this variable. Multiple
locations can be specified by separating them by : (; in Windows). The
default location is \fB$ARC_LOCATION\fR/lib/arc (\\ in Windows).

.SH COPYRIGHT
APACHE LICENSE Version 2.0

.SH FILES

.TP
.B /etc/vomses
Common file containing a list of selected VO contact point, one VO per line, for example:
.IP "gin" "kuiken.nikhef.nl" "15050" "/O=dutchgrid/O=hosts/OU=nikhef.nl/CN=kuiken.nikhef.nl" "gin.ggf.org"
.IP "nordugrid.org" "voms.uninett.no" "15015" "/O=Grid/O=NorduGrid/CN=host/voms.ndgf.org" "nordugrid.org"

.TP
.B ~/.voms/vomses
Same as
.B /etc/vomses
but located in user's home area. If exists, has precedence over
.B /etc/vomses

.TP
The order of the parsing of vomses location is:
1. command line options
2. $X509_VOMSES  or $X509_VOMS_FILE
3. client configuration file ~/.arc/client.conf
4. ~/.voms/vomses  
5. ~/.arc/vomses
6. /etc/grid-security/vomses
7. $ARC_LOCATION/etc/grid-security/vomses  (this is for Windows environment)

.TP
.B ~/.arc/client.conf
Some options can be given default values by specifying them in the
ARC client configuration file. By using the
.B --conffile
option a different configuration file can be used than the default.

.SH AUTHOR
Weizhong Qiang <weizhong.qiang@fys.uio.no>
