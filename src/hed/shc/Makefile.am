if XMLSEC_ENABLED
LIBS_WITH_XMLSEC = x509tokensh/libx509tokensh.la samltokensh/libsamltokensh.la saml2sso_assertionconsumersh/libsaml2ssoassertionconsumersh.la
SUBDIRS_XMLSEC= x509tokensh samltokensh saml2sso_assertionconsumersh
else
LIBS_WITH_XMLSEC = 
SUBDIRS_XMLSEC =
endif
SUBDIRS = allowpdp denypdp simplelistpdp arcpdp xacmlpdp pdpserviceinvoker arcauthzsh delegationpdp usernametokensh gaclpdp $(SUBDIRS_XMLSEC) delegationsh
DIST_SUBDIRS = allowpdp denypdp simplelistpdp arcpdp xacmlpdp pdpserviceinvoker arcauthzsh delegationpdp usernametokensh gaclpdp x509tokensh samltokensh saml2sso_assertionconsumersh delegationsh
noinst_PROGRAMS = test testinterface_arc testinterface_xacml
# classload_test 

pkglib_LTLIBRARIES = libarcshc.la
libarcshc_la_SOURCES  = SecHandlerPlugin.cpp
libarcshc_la_CXXFLAGS = $(GLIBMM_CFLAGS) $(LIBXML2_CFLAGS) -I$(top_srcdir)/include
libarcshc_la_LIBADD   = allowpdp/liballowpdp.la denypdp/libdenypdp.la \
                        simplelistpdp/libsimplelistpdp.la arcpdp/libarcpdp.la \
                        xacmlpdp/libxacmlpdp.la gaclpdp/libgaclpdp.la \
                        pdpserviceinvoker/libarcpdpserviceinvoker.la delegationpdp/libdelegationpdp.la \
                        arcauthzsh/libarcauthzsh.la usernametokensh/libusernametokensh.la \
                        $(LIBS_WITH_XMLSEC) delegationsh/libdelegationsh.la \
                        $(top_srcdir)/src/hed/libs/common/libarccommon.la \
                        $(top_srcdir)/src/hed/libs/message/libarcmessage.la \
                        $(top_srcdir)/src/hed/libs/loader/libarcloader.la \
                        $(top_srcdir)/src/hed/libs/security/libarcsecurity.la \
                        $(top_srcdir)/src/hed/libs/client/libarcclient.la \
                        $(top_srcdir)/src/hed/libs/credential/libarccredential.la \
                        $(LIBXML2_LIBS)
libarcshc_la_LDFLAGS  = -no-undefined -avoid-version -module

test_SOURCES  = test.cpp
test_CXXFLAGS = $(GLIBMM_CFLAGS) $(LIBXML2_CFLAGS) -I$(top_srcdir)/include
test_LDFLAGS  = $(GLIBMM_LIBS) $(LIBXML2_LIBS)
test_LDADD    = $(top_srcdir)/src/hed/libs/common/libarccommon.la $(top_srcdir)/src/hed/libs/loader/libarcloader.la $(top_srcdir)/src/hed/libs/message/libarcmessage.la $(top_srcdir)/src/hed/libs/security/libarcsecurity.la

testinterface_arc_SOURCES  = testinterface_arc.cpp
testinterface_arc_CXXFLAGS = $(GLIBMM_CFLAGS) $(LIBXML2_CFLAGS) -I$(top_srcdir)/include
testinterface_arc_LDFLAGS  = $(GLIBMM_LIBS) $(LIBXML2_LIBS)
testinterface_arc_LDADD    = $(top_srcdir)/src/hed/libs/common/libarccommon.la $(top_srcdir)/src/hed/libs/loader/libarcloader.la $(top_srcdir)/src/hed/libs/message/libarcmessage.la $(top_srcdir)/src/hed/libs/security/libarcsecurity.la

testinterface_xacml_SOURCES  = testinterface_xacml.cpp
testinterface_xacml_CXXFLAGS = $(GLIBMM_CFLAGS) $(LIBXML2_CFLAGS) -I$(top_srcdir)/include
testinterface_xacml_LDFLAGS  = $(GLIBMM_LIBS) $(LIBXML2_LIBS)
testinterface_xacml_LDADD    = $(top_srcdir)/src/hed/libs/common/libarccommon.la $(top_srcdir)/src/hed/libs/loader/libarcloader.la $(top_srcdir)/src/hed/libs/message/libarcmessage.la $(top_srcdir)/src/hed/libs/security/libarcsecurity.la

#classload_test_SOURCES = classload_test.cpp
#classload_test_CXXFLAGS = $(GLIBMM_CFLAGS) $(LIBXML2_CFLAGS) -I$(top_srcdir)/include
#classload_test_LDFLAGS = $(GLIBMM_LIBS) $(LIBXML2_LIBS)
#classload_test_LDADD = $(top_srcdir)/src/hed/libs/common/libarccommon.la $(top_srcdir)/src/hed/libs/loader/libarcloader.la $(top_srcdir)/src/hed/libs/message/libarcmessage.la $(top_srcdir)/src/hed/libs/security/libarcsecurity.la

