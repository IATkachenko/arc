#!@posix_shell@
# 
#  Cancel job running in Condor
#

progname=`basename "$0"`
echo "----- starting $progname -----" 1>&2

joboption_lrms=condor

# ARC1 passes first the config file.
if [ "$1" = "--config" ]; then shift; ARC_CONFIG=$1; shift; fi

basedir=`dirname $0`
basedir=`cd $basedir > /dev/null && pwd` || exit $?

pkglibdir="$basedir/@pkglibdir_rel_to_pkglibexecdir@"
pkglibdir=`cd $pkglibdir > /dev/null && pwd` || exit $?

. ${pkglibdir}/cancel_common.sh $1 || exit $?

echo "$progname: canceling job $joboption_jobid with condor_rm..." 1>&2

$CONDOR_BIN_PATH/condor_rm ${joboption_jobid%.condor} 1>&2

echo "----- exiting $progname -----" 1>&2
exit 0
