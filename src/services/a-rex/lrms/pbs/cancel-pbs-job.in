#!/bin/bash -f
# set -x
# 
#  Cancel job running in PBS.
# 

echo "----- starting cancel_pbs_job -----" 1>&2

joboption_lrms=pbs

basedir=`dirname $0`
basedir=`cd $basedir > /dev/null && pwd` || exit $?

pkglibdir="$basedir/@pkglibdir_rel_to_pkglibexecdir@"
pkglibdir=`cd $pkglibdir > /dev/null && pwd` || exit $?

. ${pkglibdir}/cancel_common.sh $1 || exit $?

##############################################################
# These should be set automatically
##############################################################
# Path to pbs commands
PBS_BIN_PATH=${PBS_BIN_PATH:-@pbs_bin_path@}


PBS_QDEL='qdel'
if [ ! -z "$PBS_BIN_PATH" ] ; then
  PBS_QDEL="${PBS_BIN_PATH}/${PBS_QDEL}"
fi

tmpdir=${TMP_DIR:-/tmp}

echo executing qdel with job id $joboption_jobid 1>&2
"${PBS_QDEL}" "${joboption_jobid}"

echo "----- exiting cancel_pbs_job -----" 1>&2
echo "" 1>&2
exit 0







